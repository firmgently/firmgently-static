@import '_animations.scss';
@import '_base.scss';
@import '_sizes.scss';
@import '_mixins.scss';
@import '_font-face.scss';


/* ////////////////////////////////////////////////////////////////////////// */
/* COLOURS */

$text-dimmed-main: mix($text-colour-main, $main-bg, 40%);
$text-dimmed-less: mix($text-colour-main, $main-bg, 60%);
$text-dimmed-slight: mix($text-colour-main, $main-bg, 90%);



/* ////////////////////////////////////////////////////////////////////////// */
/*  */

html,
body {
  height: 100%;
  font-size: 100%;
}
.screen-reader-text {
  position: absolute;
  left: -10000px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
  &:focus {
    left: $pad-med;
    width: auto;
    height: auto;
  }
}
body.wrapper {
  @include flexbox;
  @include align-items(stretch);
  @include flex-direction(column);
  min-height: 100%;
  background-color: $main-bg2;
  color: $text-dimmed-less;
  font-family: 'Tahoma', 'Arial', 'Nimbus Sans L';
  /*font-family: 'FG_Medium', 'Tahoma', 'Arial', 'Nimbus Sans L';*/
  form,
  .content {
    @include flex-grow(1);
    label,
    h1 {
      font-weight: lighter;
    }
		h1 {
			font-size: 2.66rem;
      margin-bottom: $pad-med;
		}
  }
  form,
  .site-header,
  .content,
  .site-footer {
    @include flex-shrink(0);
  }
  .site-header {
    @include flexbox;
    @include flex-flow(row nowrap);
    @include justify-content(flex-start);
    @include align-items(center);
    .title-image {
      background: none;
      margin-bottom: $pad-med;
      img {
        display: inline-block;
        background-image: $title-image;
        background-size: cover;
        background-position: 0 0;
        width: 11rem;
        height: 0;
        padding: calc(60 / 91 * 100%) 0 0 0;
      }
      &:hover img {
        background-position: -100% 0;
      }
    }
  }
  form,
  .content {
    @include flexbox;
    @include flex-flow(row wrap);
    margin-top: $pad-big;
    font-size: 1.5rem;
    line-height: 2.25rem;
    .side-column {
      @include flex(1, 1, $side-col-min-width);
      h2 {
        font-weight: lighter;
        margin-top: $pad-big;
        &:first-of-type {
          margin-top: $pad-med;
        }
      }
    }
    .main-column {
      @include flex(2, 1, $main-col-min-width);
			> article {
				h2, h3 {
					margin-top: $pad-big;
				}
				> img,
				> p > img,
				figure {
					max-width: 33%;
					float: left;
					clear: both;
					margin-left: 0;
					padding-right: $pad-med;
				}
				figure {
					img {
						width: 100%;
					}
					figcaption {
						padding: $pad-med 0 $pad-med 0;
						text-align: right;
						color: $text-dimmed-less;
					}
				}
			}
    }
    .widget {
      @include flex(1, 0, $side-col-min-width);
    }
  }
  .site-footer {
    @include flexbox;
    @include flex-flow(row nowrap);
    @include justify-content(flex-start);
    @include align-items(center);
    padding-top: $pad-footer-top;
    > span:first-of-type {
      color: $text-dimmed-less;
      a {
        clear: both;
        vertical-align: text-top;
        margin-right: $pad-big;
        img {
          .button {
            stroke: none;
            fill: red;
          }
          .symbol {
            stroke: none;
            fill: black;
          }
        }
      }
      > span {
        color: $text-dimmed-main;
        margin-left: $pad-big;
        @include align-self(flex-start);
      }
    }
  }
}
h1,
h2,
h3,
h4,
h5,
h6,
label {
  font-weight: lighter;
	text-transform: uppercase;
  color: $text-colour-strong;
}
h2 {
  font-size: 2rem;
}
h3 {
  font-size: 1.8rem;
}
/* consistent page padding (mobile) */
.side-column,
.main-column,
.prev-next-btns,
.site-footer,
.site-header {
  padding: $pad-med $small-page-padding-right $pad-big $small-page-padding-left;
}
blockquote {
  margin-top: $pad-med;
  margin-bottom: $pad-huge;
  padding: 0 $pad-med 0 $pad-med;
  border-left: solid $pad-sma $main-bg;
  cite {
    margin-top: $pad-med;
    display: block;
  }
}
p,
h2,
h3 {
  margin-bottom: $pad-med;
}
article > header,
article > footer,
article + nav {
  margin-bottom: $pad-huge;
}
article > header {
	span,
	em {
    color: $text-colour-strong;
	}
	span { /* date */
	}
	em { /* reading time */
		float: right;
	}
}
article > footer {
  margin-top: $pad-big;
	clear: both;
}
aside.latest-posts {
	margin-top: $pad-huge;
  li {
    margin-bottom: $pad-med;
  }
}
.item-list-container {
  @include flexbox;
  @include flex-wrap(wrap-reverse);
  @include flex-direction(row);
  @include align-content(center);
  @include justify-content(space-between);
  li {
    overflow-wrap: break-word;
    @include flex(1, 0, $list-item-w);
    height: $list-item-h;
    overflow: hidden;
    margin: $pad-med $pad-med $pad-huge 0;
    position: relative;
    a {
      @include border-radius($pad-med);
      overflow: hidden;
      display: inline-block;
      position: absolute;
      border: solid $pad-med $button-bg-colour;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      > figure {
        margin: 0;
        padding: 0;
        position: relative;
        height: 100%;
        z-index: 1;
        > img {
          width: 100%;
          position: absolute;
          z-index: -1;
					top: 0;
					left: 0;
					@include transition(all 36s ease-out 0.15s);
          @include border-radius($pad-sma);
        }
        > figcaption {
          padding: $pad-tiny;
          position: absolute;
          left: 0;
          right: 0;
          height: 1.5rem;
          bottom: calc(1rem + (#{$pad-tiny}* 2));
          > h2 {
						font-weight: normal;
            padding: $pad-sma;
            margin-bottom: $pad-sma;
            @include border-radius(0 0 $pad-sma $pad-sma);
            display: block;
            background-color: rgba($button-highlight-color, 0.5);
            text-transform: none;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }
        }
      }
      &:hover {
        border-color: $button-highlight-color;
        > figure {
          > img {
            width: 200%;
						top: -10%;
						left: -50%;
						@include transition(all 36s ease-out 0.33s);
          }
        }
				> p {
					&:after {
						@include gradient(
							top,
							rgba($button-highlight-color, 0),
							$button-highlight-color,
							$button-highlight-color
						);
					}
				}
      }
      > h2,
      > p {
        text-transform: none;
        margin: 0;
        padding: 0;
        display: inline;
      }
      > h2 {
        font-size: 1.66rem;
        font-weight: lighter;
        font-style: italic;
        padding-right: 0.5rem;
        line-height: 1.75rem;
      }
      > p {
        color: $text-colour-main;
        font-size: 1.25rem;
        &:after {
          content: 'more >>';
          text-align: right;
          display: inline-block;
          color: $text-colour-alt;
          @include gradient(
            top,
            rgba($button-bg-colour, 0),
            $button-bg-colour,
            $button-bg-colour
          );
          position: absolute;
          left: 0;
          right: 0;
          bottom: -1px; /* 0 leaves a gap, this fixes it */
          padding-top: 3rem;
          z-index: 1;
        }
      }
    }
  }
}
.prev-next-btns {
  display: block;
  width: 100%;
  overflow: auto; /* clear floated children */
	a {
		max-width: 45%;
		overflow: hidden;
		text-overflow: ellipsis;
	}
  a:first-of-type {
    float: left;
  }
  a:last-of-type {
    float: right;
  }
}
.side-column {
  .prev-next-btns {
    padding: 0;
    a {
      max-width: $side-col-min-width;
      white-space: nowrap;
      float: right;
      clear: both;
      margin-bottom: $pad-med;
    }
  }
}
button,
button:hover,
button:active,
a,
a:hover,
a:active {
  text-decoration: none;
  text-transform: uppercase;
  padding-left: $pad-sma;
  padding-right: $pad-sma;
  color: $button-bg-colour-strong;
  background-color: $button-bg-colour;
  position: relative;
  border: none;
}
button:hover,
button:active,
a:hover,
a:active {
  color: $text-colour-strong2;
  background-color: $button-highlight-color;
}
strong {
  font-weight: 800;
}
em {
  font-style: italic;
}
nav.site-nav {
  ul {
    @include flexbox;
    @include flex-wrap(wrap);
    @include justify-content(flex-end);
    @include align-items(flex-end);
    margin-top: 0-$pad-huge;
    max-width: $nav-max-width;
    transform: rotate(-5deg);
    margin-right: -2.5rem; /* fixes offset from twist/rotation */
    li {
      display: inline-block;
      margin-top: $pad-sma;
      margin-right: $pad-sma;
      &:first-of-type {
        /* title image */
        margin-bottom: 0-$pad-med;
        margin-right: $pad-med;
      }
      &:last-of-type {
        /* yin-yang symbol */
      }
      /* set up nth-of-type(?n+?) cycle, creates --r vars, used to set rotation of inner <a> */
      @include cycle(
        --r,
        19deg,
        4deg,
        -7deg,
        0deg,
        -10deg,
        7deg,
        -5deg,
        14deg,
        0deg,
        -10deg,
        13deg,
        -3deg,
        8deg,
        -10deg,
        7deg,
        -30deg
      );
      a,
      a:hover,
      a:active {
        display: inline-block;
				text-transform: uppercase;
        padding: 0.25rem 0.5rem;
        transform: rotate(var(--r));
        z-index: 0;
      }
      a:hover,
      a:active {
        z-index: 1;
      }
      a.is,
      a.is:hover,
      a.is:active {
        color: $button-highlight-color;
        background-color: $button-bg-colour-strong;
        z-index: 1;
      }
    }
  }
}
a.icon.btn.invert-colour {
  @include align-self(flex-end);
  img {
    background-image: $invert-icon-image;
  }
}
a.icon.btn.feed {
  img {
    background-image: $feed-icon-image;
  }
}
a.icon.btn {
  display: inline-block;
  background: none;
  @include opacity(0.8);
  cursor: pointer;
  &:hover {
    @include opacity(1);
  }
  img {
    height: $icon-size;
    width: $icon-size;
    background-size: 100%;
  }
}


/* ////////////////////////////////////////////////////////////////////////// */
/* FORMS */
form {
  textarea,
  input {
    background-color: $button-bg-colour;
    color: $text-colour-strong2;
    border: none;
    font-size: 1.25rem;
    padding: $pad-sma;
    width: $form-field-width;
    @include border-radius($pad-sma);
  }
  textarea {
    height: 7rem
  }
  button,
  button:hover,
  button:active {
    font-size: 1.25rem;
    display: block;
  }
  label {
    display: block;
    margin-top: $pad-med;
    &:first-child {
      margin-top: 0;
    }
  }
}


/* ////////////////////////////////////////////////////////////////////////// */
/*MAGNIFIER*/

#magnifiable-image {
  max-width: 100%;
  width: $main-image-width-small;
  cursor: zoom-in;
}
#mag {
  z-index: 9999;
  border: solid 2px #b2b1a9;
  background-image: url(/images/light/magEmptyBg.png);
  overflow: hidden;
  position: absolute;
  top: $pad-sma;
  left: $pad-sma;
  img {
    border: none;
    background: none;
  }
}
#magInner {
  overflow: hidden;
}
#hiResImg {
  border: none;
  display: inline-block;
  position: relative;
}
#loupe {
  border: dotted 1px $text-colour-strong2;
  position: absolute;
  top: 50px;
  left: 50px;
  cursor: all-scroll;
  background-image: url(/images/light/loupeBg.png);
}
#magImgLdingMsg,
#magLdingMsg {
  padding: $pad-med;
  position: absolute;
  line-height: 1.2em;
}
#magImgLdingMsg {
  top: 12px;
}
/* ////////////////////////////////////////////////////////////////////////// */
/*HIRE ME ANIMATION*/
#hireMe {
  margin-bottom: $pad-big;
  ul {
    list-style-type: none;
    list-style-image: url(/images/light/bullet.png);
    padding: 0 $pad-big;
    li {
      display: inline-block;
    }
  }
  #hireMeAnim {
    cursor: default;
    padding: 0;
    width: 100%;
    padding-bottom: 60%;
    display: inline-block;
    overflow: hidden;
    position: relative;
    background-color: #6c898f;
    background-image: url(/images/hireMeStars.png);
    text-align: center;
    @include border-radius($pad-sma);
    @include transition(all $transition-speed-spin $transition-style-sink);
    h2 {
      font-family: 'FG_HireMe', 'Tahoma', 'Arial', 'Nimbus Sans L';
      color: #ffff63;
      position: absolute;
      z-index: 3;
      width: 100%;
      text-align: justify;
      word-spacing: -10px;
      padding: 0 1em;
      font-size: 4em;
      top: 0.1em;
      @include transition(all $transition-speed-spin/6 ease-out);
      &:after {
        content: '';
        display: inline-block;
        width: 100%;
      }
    }
    img {
      position: absolute;
      top: 30px;
      left: 50%;
      margin-left: -88px;
      @include transition(all $transition-speed-spin $transition-style-sink);
    }
    &:hover {
      background-color: #ffffff;
      h2 {
        color: $text-colour-alt;
        font-size: 5em;
      }
      img {
        top: -10px;
        @include animation(
          centred-spin $transition-speed-spin $transition-style-spin infinite
        );
      }
    }
  }
}

/* ////////////////////////////////////////////////////////////////////////// */
/* */
@import '_media-queries.scss';
